<div class="contact-form">
  <h2 class="contact-form-title">
    Create/Update contact
  </h2>
  <button (click)="onBack($event)">Back</button>
  <ng-container *ngIf="!isLoading; else loading">
    <form #userForm="ngForm">
      <div class="form-group">
        <label for="name">Name: </label>
        <input
          type="text"
          id="name"
          class="form-control"
          required
          [(ngModel)]="contact.name"
          name="name"
          #name="ngModel"
        />
        <ng-template [ngIf]="name.invalid && (name.touched || name.dirty)">
          <div *ngIf="name.errors.required" class="alert alert-danger">
            Name is required
          </div>
        </ng-template>
      </div>
      <div class="form-group">
        <label for="phone">Phone: </label>
        <input
          type="text"
          id="phone"
          class="form-control"
          required
          [(ngModel)]="contact.phone"
          name="phone"
          #phone="ngModel"
        />
        <ng-template [ngIf]="phone.invalid && (phone.touched || phone.dirty)">
          <div *ngIf="phone.errors.required" class="alert alert-danger">
            Phone is required
          </div>
        </ng-template>
      </div>
      <div class="form-group">
        <label for="email">Email: </label>
        <input
          type="text"
          id="email"
          class="form-control"
          required
          email
          [(ngModel)]="contact.email"
          name="email"
          #email="ngModel"
        />
        <ng-template [ngIf]="email.invalid && (email.touched || email.dirty)">
          <div *ngIf="email.errors.required" class="alert alert-danger">
            Email is required
          </div>
        </ng-template>
      </div>
      <button *ngIf="createMode" (click)="onCreate($event)">Create</button>
      <button *ngIf="!createMode" (click)="onUpdate($event)">Update</button>
    </form>
  </ng-container>
  <ng-template #loading>
    <div>Loading...</div>
  </ng-template>
</div>
